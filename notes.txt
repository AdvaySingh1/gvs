# RESET EVERYTHING (run this first to clean up):
sudo rm -rf /tmp/gvs ~/gigaflow/gvs/dpdk-dir ~/gigaflow/gvs/dpdk-*.tar.xz ~/gigaflow/gvs/build
sudo apt remove --purge openvswitch* -y
sudo rm -rf /usr/local/share/openvswitch /usr/local/var/run/openvswitch /usr/local/var/log/openvswitch
sudo sed -i '/openvswitch/d' ~/.profile /root/.profile

# FRESH SETUP (equivalent to your Ansible):
# 1. Create project directory
sudo mkdir -p /tmp/gvs

# 2. Install dependencies
sudo apt update
sudo apt install -y make cmake llvm-12 clang-12 meson ninja-build python3-pip pkg-config autotools-dev autoconf libtool systemtap-sdt-dev python-setuptools

# 3. Install pyelftools
pip3 install --user --upgrade pyelftools

# 4. Copy GVS to /tmp/gvs/gvs
sudo cp -r ~/gigaflow/gvs /tmp/gvs/

# 5. Create build directory
sudo mkdir -p /tmp/gvs/gvs/build

# 6. Bootstrap
cd /tmp/gvs/gvs
sudo ./boot.sh

# 7. Configure with DPDK and GigaFlow
cd /tmp/gvs/gvs/build
sudo .././configure --with-dpdk=static CC=gcc

# 8. Build
sudo make -j4

# 9. Install
sudo make install

# 10. Set up environment variables
echo 'export PATH=$PATH:/usr/local/share/openvswitch/scripts' | sudo tee -a ~/.profile
echo 'export PATH=$PATH:/usr/local/share/openvswitch/scripts' | sudo tee -a /root/.profile
echo 'export DB_SOCK=/usr/local/var/run/openvswitch/db.sock' | sudo tee -a ~/.profile
echo 'export DB_SOCK=/usr/local/var/run/openvswitch/db.sock' | sudo tee -a /root/.profile

# 11. Source the profile
source ~/.profile



sudo tail -f /usr/local/var/log/openvswitch/ovs-vswitchd.log



view logs
/usr/local/var/log/openvswitch/ovs-vswitched.log


To enable packet debugging

# Enable debug logging for the datapath netdev module
ovs-appctl vlog/set dpif_netdev:dbg

# Enable debug logging for general datapath operations
ovs-appctl vlog/set dpif:dbg

# Enable debug logging for netdev operations
ovs-appctl vlog/set netdev:dbg

# Enable debug logging for bridge operations
ovs-appctl vlog/set bridge:dbg


To check interface statistics


# Check interface statistics
ovs-vsctl list interface ens16f0
ovs-vsctl list interface ens16f1

# Check port statistics
ovs-ofctl dump-ports br0